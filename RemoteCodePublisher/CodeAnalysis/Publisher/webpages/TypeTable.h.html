<html>
  <head>
     <link rel="stylesheet" type="text/css" href="resources/light.css"/>
     <script src="resources/scripts.js"></script>
     <button class="Fixed" onclick="toggleStyle(this)">Dark Theme</button>
  </head>
  <body>
   <h3>TypeTable.h</h3>
   <hr/>
   <div class = "indent">
     <h4>Dependencies:</h4>
     <div><a href="TypeTable.cpp.html">TypeTable.cpp</a></div>
   </div>
   <hr/>
<pre><span class="number">  1       </span><span class="directive">#pragma</span> once
<span class="number">  2       </span><span class="comment">/////////////////////////////////////////////////////////////////////</span>
<span class="number">  3       </span><span class="comment">// TypeTable.h - Holds types defined/used for a set of files       //</span>
<span class="number">  4       </span><span class="comment">// Ver 1.0                                                         //</span>
<span class="number">  5       </span><span class="comment">// Application: Project #2 - Dependency Analysis - CSE-687         //</span>
<span class="number">  6       </span><span class="comment">// Platform:    Dell Inspiron 5520, Win 10, Visual Studio 2015     //</span>
<span class="number">  7       </span><span class="comment">// Author:      Ammar Salman, EECS, Syracuse University            //</span>
<span class="number">  8       </span><span class="comment">//              (313) 788-4694  hoplite.90@hotmail.com             //</span>
<span class="number">  9       </span><span class="comment">/////////////////////////////////////////////////////////////////////</span>
<span class="number">  10    </span><span class="minmax" onclick="toggleminmax(this, 'sp9')" onmouseover="highlight('sp9')" onmouseout="removeHighlight('sp9')">-</span><span id="sp9"><span class="comment">/*
<span class="number">  11      </span>* Package Operations:
<span class="number">  12      </span>* -------------------
<span class="number">  13      </span>* This package processes AST generated by CodeAnalyzer to extract all
<span class="number">  14      </span>* defined types within a set of files and records the information.
<span class="number">  15      </span>* It also uses the FileMap from CodeAnalyzer to tokenize the processed
<span class="number">  16      </span>* files in order to extract all the used types as well. 
<span class="number">  17      </span>*
<span class="number">  18      </span>* Public Interface:
<span class="number">  19      </span>* TypeValue tv;
<span class="number">  20      </span>* string name = tv.Name();
<span class="number">  21      </span>* string pName = tv.ParentNamespace();
<span class="number">  22      </span>* string type = tv.Type();
<span class="number">  23      </span>* vector&ltstring&gt qualifiedName = tv.QualifiedName();
<span class="number">  24      </span>* TypeValue tv2;
<span class="number">  25      </span>* bool isEqual = tv2.qNameEquals(qualifiedName);
<span class="number">  26      </span>* bool typeValuesEqual = tv == tv2;
<span class="number">  27      </span>*
<span class="number">  28      </span>*	TypeTable typeTable;
<span class="number">  29      </span>* typeTable.ExtractDefinedTypes(argc, argv);
<span class="number">  30      </span>* typeTable.ExtractUsedTypes();
<span class="number">  31      </span>* typeTable.Print();
<span class="number">  32      </span>* auto defined = typeTable.definedTypes();
<span class="number">  33      </span>* auto used = typeTable.usedTypes();
<span class="number">  34      </span>* auto included = typeTable.UsedLibraries();
<span class="number">  35      </span>*
<span class="number">  36      </span>*
<span class="number">  37      </span>* Required Files:
<span class="number">  38      </span>* ---------------
<span class="number">  39      </span>*   - TypeTable.h, TypeTable.cpp, ActionsAndRules.h, AbstrSynTree.h, Executive.h
<span class="number">  40      </span>*
<span class="number">  41      </span>* Build Process:
<span class="number">  42      </span>* --------------
<span class="number">  43      </span>*   devenv DependencyAnalysis.sln /debug rebuild
<span class="number">  44      </span>*
<span class="number">  45      </span>* Maintenance History:
<span class="number">  46      </span>* --------------------
<span class="number">  47      </span>* Ver 1.0 : 5 March 2017
<span class="number">  48      </span>* - first release
<span class="number">  49      </span>*
<span class="number">  50      </span>*/</span></span>
<span class="number">  51      </span>
<span class="number">  52      </span><span class="directive">#include</span> <span class="str">&ltvector&gt</span>
<span class="number">  53      </span><span class="directive">#include</span> <span class="str">&ltunordered_map&gt</span>
<span class="number">  54      </span><span class="directive">#include</span> <span class="str">&ltstring&gt</span>
<span class="number">  55      </span><span class="directive">#include</span> <span class="str">&ltset&gt</span>
<span class="number">  56      </span>
<span class="number">  57      </span><span class="directive">#include</span> <span class="str">"..\CodeAnalyzer\Parser\ActionsAndRules.h"</span>
<span class="number">  58      </span><span class="directive">#include</span> <span class="str">"..\CodeAnalyzer\AbstractSyntaxTree\AbstrSynTree.h"</span>
<span class="number">  59      </span><span class="directive">#include</span> <span class="str">"..\CodeAnalyzer\Analyzer\Executive.h"</span>
<span class="number">  60      </span>
<span class="number">  61      </span><span class="key">using</span> <span class="key">namespace</span> std;
<span class="number">  62      </span><span class="key">using</span> <span class="key">namespace</span> CodeAnalysis;
<span class="number">  63      </span>
<span class="number">  64    </span><span class="minmax" onclick="toggleminmax(this, 'sp63')" onmouseover="highlight('sp63')" onmouseout="removeHighlight('sp63')">-</span><span class="key">namespace</span> DependencyAnalysis <span id="sp63">{
<span class="number">  65      </span>	
<span class="number">  66      </span>
<span class="number">  67      </span>	<span class="comment">// --------------------------------------------------------------------------------------</span>
<span class="number">  68      </span>	<span class="comment">// -----&lt TypeValue class area &gt---------------------------------------------------------</span>
<span class="number">  69      </span>	<span class="comment">// --------------------------------------------------------------------------------------</span>
<span class="number">  70      </span>
<span class="number">  71      </span>	<span class="comment">// specifies node for each defined type found in the processes file</span>
<span class="number">  72    </span><span class="minmax" onclick="toggleminmax(this, 'sp71')" onmouseover="highlight('sp71')" onmouseout="removeHighlight('sp71')">-</span>	<span class="key">class</span> TypeValue <span id="sp71">{
<span class="number">  73      </span>		string name;
<span class="number">  74      </span>		string pNamespace;
<span class="number">  75      </span>		string type;
<span class="number">  76      </span>		vector&ltstring&gt qualifiedName;
<span class="number">  77      </span>		<span class="key">friend</span> <span class="key">class</span> TypeTable;
<span class="number">  78      </span>	<span class="key">public</span>:
<span class="number">  79    </span><span class="minmax" onclick="toggleminmax(this, 'sp78')" onmouseover="highlight('sp78')" onmouseout="removeHighlight('sp78')">-</span>		const string& Name() const <span id="sp78">{ <span class="key">return</span> name; }</span>
<span class="number">  80    </span><span class="minmax" onclick="toggleminmax(this, 'sp79')" onmouseover="highlight('sp79')" onmouseout="removeHighlight('sp79')">-</span>		const string& ParentNamespace() const <span id="sp79">{ <span class="key">return</span> pNamespace; }</span>
<span class="number">  81    </span><span class="minmax" onclick="toggleminmax(this, 'sp80')" onmouseover="highlight('sp80')" onmouseout="removeHighlight('sp80')">-</span>		const string& Type() const <span id="sp80">{ <span class="key">return</span> type; }</span>
<span class="number">  82    </span><span class="minmax" onclick="toggleminmax(this, 'sp81')" onmouseover="highlight('sp81')" onmouseout="removeHighlight('sp81')">-</span>		const vector&ltstring&gt& QualifiedName() const <span id="sp81">{ <span class="key">return</span> qualifiedName; }</span>
<span class="number">  83      </span>		<span class="key">bool</span> qNameEquals(vector&ltstring&gt& qName);
<span class="number">  84      </span>		<span class="key">bool</span> <span class="key">operator</span>==(TypeValue& tv);
<span class="number">  85      </span>	}</span>;
<span class="number">  86      </span>
<span class="number">  87      </span>	<span class="comment">// -----&lt Compare Qualified Names function &gt--------------------------------------------</span>
<span class="number">  88    </span><span class="minmax" onclick="toggleminmax(this, 'sp87')" onmouseover="highlight('sp87')" onmouseout="removeHighlight('sp87')">-</span>	<span id="sp87"><span class="comment">/* takes qualified name from other function and returns if they are equal or not*/</span></span>
<span class="number">  89    </span><span class="minmax" onclick="toggleminmax(this, 'sp88')" onmouseover="highlight('sp88')" onmouseout="removeHighlight('sp88')">-</span>	<span class="key">inline</span> <span class="key">bool</span> TypeValue::qNameEquals(vector&ltstring&gt& qName) <span id="sp88">{
<span class="number">  90      </span>			<span class="key">if</span> (qualifiedName.size() != qName.size()) <span class="key">return</span> <span class="key">false</span>;
<span class="number">  91      </span>			<span class="key">for</span> (size_t i = 0; i &lt qualifiedName.size(); ++i)
<span class="number">  92      </span>				<span class="key">if</span> (qualifiedName[i] != qName[i]) <span class="key">return</span> <span class="key">false</span>;
<span class="number">  93      </span>			<span class="key">return</span> <span class="key">true</span>;
<span class="number">  94      </span>	}</span>
<span class="number">  95      </span>
<span class="number">  96      </span>	<span class="comment">// -----&lt Compare two TypeValues function &gt---------------------------------------------</span>
<span class="number">  97    </span><span class="minmax" onclick="toggleminmax(this, 'sp96')" onmouseover="highlight('sp96')" onmouseout="removeHighlight('sp96')">-</span>	<span id="sp96"><span class="comment">/* takes another TypeValue and checks if everything is the same or not */</span></span>
<span class="number">  98    </span><span class="minmax" onclick="toggleminmax(this, 'sp97')" onmouseover="highlight('sp97')" onmouseout="removeHighlight('sp97')">-</span>	<span class="key">inline</span> <span class="key">bool</span> TypeValue::<span class="key">operator</span>==(TypeValue& tv) <span id="sp97">{
<span class="number">  99      </span>		<span class="key">if</span> (tv.name != name) <span class="key">return</span> <span class="key">false</span>;
<span class="number">  100     </span>		<span class="key">if</span> (tv.pNamespace != pNamespace) <span class="key">return</span> <span class="key">false</span>;
<span class="number">  101     </span>		<span class="key">if</span> (tv.type != type) <span class="key">return</span> <span class="key">false</span>;
<span class="number">  102     </span>		<span class="key">if</span> (!tv.qNameEquals(qualifiedName)) <span class="key">return</span> <span class="key">false</span>;
<span class="number">  103     </span>		<span class="key">return</span> <span class="key">true</span>;
<span class="number">  104     </span>	}</span>
<span class="number">  105     </span>
<span class="number">  106     </span>
<span class="number">  107     </span>	<span class="comment">// --------------------------------------------------------------------------------------</span>
<span class="number">  108     </span>	<span class="comment">// -----&lt TypeTable class area &gt---------------------------------------------------------</span>
<span class="number">  109     </span>	<span class="comment">// --------------------------------------------------------------------------------------</span>
<span class="number">  110     </span>
<span class="number">  111     </span>
<span class="number">  112     </span>	<span class="comment">// holds information about defined/used types within a file</span>
<span class="number">  113   </span><span class="minmax" onclick="toggleminmax(this, 'sp112')" onmouseover="highlight('sp112')" onmouseout="removeHighlight('sp112')">-</span>	<span class="key">class</span> TypeTable <span id="sp112">{
<span class="number">  114     </span>	<span class="key">public</span>:
<span class="number">  115     </span>		TypeTable();
<span class="number">  116     </span>		TypeTable(const TypeTable& tt);
<span class="number">  117     </span>		~TypeTable();
<span class="number">  118     </span>		<span class="key">void</span> ExtractDefinedTypes(<span class="key">int</span> argc, <span class="key">char</span>** argv);
<span class="number">  119     </span>		<span class="key">void</span> ExtractUsedTypes();
<span class="number">  120     </span>		<span class="key">void</span> Print();
<span class="number">  121   </span><span class="minmax" onclick="toggleminmax(this, 'sp120')" onmouseover="highlight('sp120')" onmouseout="removeHighlight('sp120')">-</span>		const unordered_map &ltstring, vector&ltTypeValue&gt&gt& definedTypes() const <span id="sp120">{ <span class="key">return</span> DefinedTypes; }</span>
<span class="number">  122   </span><span class="minmax" onclick="toggleminmax(this, 'sp121')" onmouseover="highlight('sp121')" onmouseout="removeHighlight('sp121')">-</span>		const unordered_map &ltstring, set&ltstring&gt&gt usedTypes() const <span id="sp121">{ <span class="key">return</span> UsedTypes; }</span>
<span class="number">  123   </span><span class="minmax" onclick="toggleminmax(this, 'sp122')" onmouseover="highlight('sp122')" onmouseout="removeHighlight('sp122')">-</span>		const unordered_map &ltstring, vector&ltstring&gt&gt UsedLibraries() const <span id="sp122">{ <span class="key">return</span> IncludedLibraries; }</span>
<span class="number">  124     </span>
<span class="number">  125     </span>	<span class="key">private</span>:
<span class="number">  126     </span>		vector&ltstring&gt FileList;
<span class="number">  127     </span>		vector&ltstring&gt qName;
<span class="number">  128     </span>		set&ltstring&gt mapKeys;
<span class="number">  129     </span>		
<span class="number">  130     </span>		unordered_map&ltstring, vector&ltstring&gt&gt IncludedLibraries;
<span class="number">  131     </span>		unordered_map&ltstring, vector&ltTypeValue&gt&gt DefinedTypes;
<span class="number">  132     </span>		unordered_map&ltstring, set&ltstring&gt&gt UsedTypes;
<span class="number">  133     </span>
<span class="number">  134     </span>		Repository* CodeRepository;
<span class="number">  135     </span>		ASTNode* GlobalScopeNode;
<span class="number">  136     </span>
<span class="number">  137     </span>		<span class="key">void</span> UpdateFileList(const CodeAnalysisExecutive::FileMap& fileMap);
<span class="number">  138     </span>
<span class="number">  139     </span>		<span class="key">void</span> DoAction(ASTNode* node);
<span class="number">  140     </span>		<span class="key">void</span> ManageContainer(ASTNode* node);
<span class="number">  141     </span>		<span class="key">void</span> ManageFunction_Enum(ASTNode* node);
<span class="number">  142     </span>		<span class="key">void</span> ManageDeclaration(DeclarationNode& node);
<span class="number">  143     </span>		<span class="key">void</span> ManageStatements(vector&ltpair&ltScanner::ITokCollection*, string&gt&gt& statements);
<span class="number">  144     </span>
<span class="number">  145     </span>		<span class="key">bool</span> isValidToken(string& tok);
<span class="number">  146     </span>	}</span>;
<span class="number">  147     </span>
<span class="number">  148     </span>}</span>
<span class="number">  149     </span>

</pre>
  </body>
</html>